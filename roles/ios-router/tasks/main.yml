--- 

- name: Interface IPv4 Addresses
  ios_l3_interfaces: 
    config: 
      - name: "{{ item.name }}"
        ipv4: 
        - address: "{{ item.ipv4.address }}"
    state: merged
  loop: "{{ interface_config }}"

- name: Interface description and bring 'up'
  ios_interfaces:
    config: 
      - name: "{{ item.name }}"
        description: "{{ item.description }}"
        enabled: "{{ item.enabled }}"
    state: merged
  loop: "{{ interface_config }}"
      
- name: wait some time to bring up network....
  wait_for:
    timeout: 5

- name: IOS ping neighbour Router
  ios_ping:
    dest: "{{ item }}"
    count: 2
  loop: "{{ ping_destinations }}"
        